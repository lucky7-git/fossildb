CSVのインポート方法

Pythonanywhereにログイン　IDは　lucky7@dra.bbiq.jp　パスワードは　777ykcul

Fileで/home/lucky7にCSVをアップロード(CSVのファイル名は'app_item.csv'とした)

Bashコンソールを起動する

MySQLに接続する。コマンドは以下の通り。

mysql -u lucky7 -h lucky7.mysql.pythonanywhere-services.com -p 'lucky7$db_dinodb'

パスワードを求められる　⇒　Tacodes7

lucky7　は　ユーザ名、lucky7.mysql.pythonanywhere-services.com　はホスト名、　lucky7$db_dinodbはデータベース名。

CSVをテーブルapp_itemにインポート。コマンドは以下の通り。

LOAD DATA local INFILE '/home/lucky7/app_item.csv' INTO TABLE app_item FIELDS TERMINATED BY ',' ENCLOSED BY '"' LINES TERMINATED BY '\n' IGNORE 1 ROWS;

データが格納されているか確認する。コマンドは以下の通り。
select * from app_item /G

☆参考　カラム一覧を取得　DESCRIBE テーブル名; \G　テーブル一覧取得　show tables; \G  show table status; \G


setting.py

DATABASES = {    
    'default': {  
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'lucky7$db_dinodb',
        'USER': 'lucky7', 
        'PASSWORD': 'Tacodes7',
        'HOST':'lucky7.mysql.pythonanywhere-services.com' ,
        'OPTIONS': {
            'init_command': "SET sql_mode='STRICT_TRANS_TABLES'",
        },
    }
}

参考
mysql shell

use lucky7$db_dinodb　　　　データベース接続（どのDB使うか)
show tables;　　　　　　　テーブル一覧
show table status;　　　　テーブルのステータス
SHOW FULL COLUMNS FROM app_item;　　　テーブルの列項目一覧
DESC app_item;　　　　　　スキーマを見る 


python 

python manage.py showmigrations　マイグレーションの履歴
python manage.py sqlmigrate app 0002_auto_20160909_0701  上記履歴で表示された一覧の中のマイグレの内容見る


pythonanywhereのWebで設定

Code:
What your site is running.

Source code:/home/lucky7/lucky7.pythonanywhere.com
Working directory:/home/lucky7/
WSGI configuration file:/var/www/lucky7_pythonanywhere_com_wsgi.py
Python version:3.6

Virtualenv:
Use a virtualenv to get different versions of flask, django etc from our default system ones. More info here. You need to Reload your web app to activate it; NB - will do nothing if the virtualenv does not exist.
/home/lucky7/.virtualenvs/myenv

Static files:
Files that aren't dynamically generated by your code, like CSS, JavaScript or uploaded files, can be served much faster straight off the disk if you specify them here. You need to Reload your web app to activate any changes you make to the mappings below.

URL	        Directory	
/static/	/home/lucky7/lucky7.pythonanywhere.com/app/static	 
/media/	        /home/lucky7/lucky7.pythonanywhere.com/media	 
/static/admin/	/home/lucky7/.virtualenvs/myenv/lib/python3.6/site-packages/django/contrib/admin/static/admin